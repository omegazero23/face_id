(function(){"use strict";var e={8578:function(e,a,t){var o=t(3751),n=t(641);const r={id:"app"};function i(e,a,t,o,i,s){const l=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(l)])}var s={name:"App"},l=t(6262);const c=(0,l.A)(s,[["render",i]]);var u=c,d=(t(8992),t(7550),t(5220)),v=t(5537),p=t(8987),g=(t(4114),t(6573),t(8100),t(7936),t(7467),t(4732),t(9577),t(4979),t(953)),m=t(33),h=t.p+"img/logo_trans.51251fce.png",f=t(517),b=t(5365),k=t(9646),w=t(8465),y=t.n(w),x=t(5059);const E={class:"min-h-screen bg-gray-100 flex items-center justify-center p-4"},L={class:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative"},C={key:0,class:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg z-10"},F={class:"text-2xl font-bold text-center mb-6"},_={key:0,class:"space-y-4"},A={key:1,class:"space-y-6"},R=["src"],I={class:"text-gray-500"},P=["src"],T={class:"text-gray-500"},S=["disabled"],j={key:2,class:"space-y-6"},M=["src"],B={class:"text-gray-500"},O=["disabled"],$={key:0,class:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded relative",role:"alert"},V={class:"block sm:inline"},D={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},N={class:"bg-white p-6 rounded-lg shadow-xl w-11/12 max-w-2xl"},K={class:"flex justify-between items-center mb-4"};var z={__name:"FileUploadPage",setup(e){const a=(0,g.KR)("main"),t=(0,g.KR)(null),r=(0,g.KR)(null),i=(0,g.KR)(null),s=(0,g.KR)(""),l=(0,g.KR)(""),c=(0,g.KR)(""),u=(0,g.KR)(""),v=(0,g.KR)(!1),w=(0,g.KR)(null),z=(0,g.KR)(null),X=(0,g.KR)(null),W=(0,d.rd)(),H=p.A.get("token"),q=(0,g.Kh)({ineFront:!1,ineBack:!1,passport:!1}),G=(0,g.KR)(null),Q=(0,g.KR)(null),Y=(0,g.KR)(null),U=(0,g.KR)(0),J=(0,n.EW)((()=>q.ineFront?s.value:q.ineBack?l.value:q.passport?c.value:""));(0,n.sV)((async()=>{try{console.log("VUE_APP_STAGE:","https://ae60-187-188-165-253.ngrok-free.app/get_stage");const e=await fetch("https://ae60-187-188-165-253.ngrok-free.app/get_stage",{method:"GET",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json",Accept:"application/json","ngrok-skip-browser-warning":"true"},mode:"cors"});if(console.log("Response status:",e.status),console.log("Headers:",Object.fromEntries(e.headers.entries())),!e.ok)throw new Error(`HTTP error! status: ${e.body}`);const a=e.headers.get("content-type");if(!a||!a.includes("application/json")){const a=await e.text();throw new Error(`HTTP error! status: ${e.status}, body: ${a}`)}if(e.ok){const a=await e.json();console.log("Stage:",a);const t={PROCESS_AND_VALIDATE_DOC:"/",VALIDATE_IDENTITY:"/verificacion-biometrica",VERIFY_LIVENESS:"/verify_liveness",COMPLETED:"/success"},o=t[a.stage];if(o&&o!==W.currentRoute.value.path)return void W.push(o);console.log("El stage actual coincide con la ruta, no se hace redirección.")}y().fire({title:"Instrucciones para subir INE o Pasaporte",html:'\n        <ul style="text-align: left;">\n          <li>Asegúrate de que el documento esté bien iluminado.</li>\n          <li>Evita reflejos o sombras en el documento.</li>\n          <li>Asegúrate de que todo el documento sea visible y legible.</li>\n          <li>No cubras ninguna parte del documento con tus dedos.</li>\n          <li>Sube una imagen en formato JPG o PNG.</li>\n          <li>El tamaño del archivo no debe exceder los 5MB.</li>\n        </ul>\n      ',icon:"info",confirmButtonText:"Aceptar"})}catch(e){console.error("Error checking stage:",e)}}));const Z=()=>{a.value="main",t.value=null,r.value=null,i.value=null,s.value="",l.value="",c.value="",u.value="",q.ineFront=!1,q.ineBack=!1,q.passport=!1,U.value=0},ee=e=>{"ineFront"===e?w.value.click():"ineBack"===e?z.value.click():"passport"===e&&X.value.click()},ae=(e,a)=>{const o=a.target.files[0];if(o){const a=5242880;if(o.size>a)return void alert("El archivo es demasiado grande. Máximo 5MB.");const n=new FileReader;n.onload=a=>{const n=new Image;n.onload=()=>{const a=document.createElement("canvas"),u=a.getContext("2d"),d=1024,v=1024;let p=n.width,g=n.height;p>g?p>d&&(g*=d/p,p=d):g>v&&(p*=v/g,g=v),a.width=p,a.height=g,u.drawImage(n,0,0,p,g);const m=a.toDataURL("image/jpeg",.7);switch(e){case"ineFront":t.value=o,s.value=m,q.ineFront=!0;break;case"ineBack":r.value=o,l.value=m,q.ineBack=!0;break;case"passport":i.value=o,c.value=m,q.passport=!0;break}G.value=e,U.value=0},n.src=a.target.result},n.readAsDataURL(o)}},te=e=>{Q.value=e,console.log("Crop coordinates:",e.coordinates)},oe=()=>{U.value=(U.value+90)%360,Y.value&&Y.value.rotate(90)},ne=()=>{if(Q.value&&Q.value.canvas){const{width:e,height:a}=Q.value.coordinates,o=Q.value.canvas.toDataURL("image/jpeg",.8);"ineFront"===G.value?(s.value=o,t.value=ie(o,`ineFront_${e}x${a}_rot${U.value}.jpg`),q.ineFront=!1):"ineBack"===G.value?(l.value=o,r.value=ie(o,`ineBack_${e}x${a}_rot${U.value}.jpg`),q.ineBack=!1):"passport"===G.value&&(c.value=o,i.value=ie(o,`passport_${e}x${a}_rot${U.value}.jpg`),q.passport=!1)}G.value=null,Q.value=null,U.value=0},re=()=>{"ineFront"===G.value?q.ineFront=!1:"ineBack"===G.value?q.ineBack=!1:"passport"===G.value&&(q.passport=!1),G.value=null,Q.value=null,U.value=0},ie=(e,a)=>{const t=e.split(","),o=t[0].match(/:(.*?);/)[1],n=atob(t[1]);let r=n.length;const i=new Uint8Array(r);while(r--)i[r]=n.charCodeAt(r);return new File([i],a,{type:o})},se=async()=>{if(t.value&&r.value){v.value=!0,u.value="";try{const e=await new Promise(((e,a)=>{navigator.geolocation.getCurrentPosition(e,a)})),a=new FormData;a.append("ineFront",t.value),a.append("ineBack",r.value),a.append("latitude",e.coords.latitude),a.append("longitude",e.coords.longitude),console.log("Coordenadas:",e.coords.latitude,e.coords.longitude);const o=await fetch("https://ae60-187-188-165-253.ngrok-free.app/process_and_validate_ine",{method:"POST",body:a,headers:{Authorization:`Bearer ${H}`,"ngrok-skip-browser-warning":"true"}});if(!o.ok)throw new Error("Error al subir los archivos de INE");const n=await o.json();console.log("Archivos de INE subidos exitosamente:",n),W.push("/verificacion-biometrica")}catch(e){console.error("Error:",e),u.value=e.message}finally{v.value=!1}}},le=async()=>{if(i.value){v.value=!0,u.value="";try{const e=await new Promise(((e,a)=>{navigator.geolocation.getCurrentPosition(e,a)})),a=new FormData;a.append("passport",i.value),a.append("latitude",e.coords.latitude),a.append("longitude",e.coords.longitude),console.log("Coordenadas:",e.coords.latitude,e.coords.longitude);const t=await fetch("https://ae60-187-188-165-253.ngrok-free.app/process_and_validate_passport",{method:"POST",body:a,headers:{Authorization:`Bearer ${H}`}});if(!t.ok)throw new Error("Error al subir el archivo de Pasaporte");const o=await t.json();console.log("Archivo de Pasaporte subido exitosamente:",o),W.push("/verificacion-biometrica")}catch(e){console.error("Error:",e),u.value=e.message}finally{v.value=!1}}};return(e,d)=>((0,n.uX)(),(0,n.CE)("div",E,[(0,n.Lk)("div",L,[(0,n.bF)(o.eB,{name:"fade"},{default:(0,n.k6)((()=>[v.value?((0,n.uX)(),(0,n.CE)("div",C,d[8]||(d[8]=[(0,n.Lk)("div",{class:"text-center"},[(0,n.Lk)("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-black mb-4"}),(0,n.Lk)("p",{class:"text-gray-700 font-semibold"},"Procesando...")],-1)]))):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(o.eB,{name:"fade"},{default:(0,n.k6)((()=>["main"!==a.value?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:Z,class:"mb-4 flex items-center text-gray-600 hover:text-gray-800 transition-colors duration-200"},[(0,n.bF)((0,g.R1)(f.A),{class:"h-5 w-5 mr-1"}),d[9]||(d[9]=(0,n.eW)(" Regresar "))])):(0,n.Q3)("",!0)])),_:1}),d[16]||(d[16]=(0,n.Lk)("img",{src:h,alt:"SoftCrédito Logo",class:"w-64 mx-auto mb-6"},null,-1)),(0,n.Lk)("h2",F,(0,m.v_)("main"===a.value?"Subir INE o Pasaporte":"ine"===a.value?"Subir INE":"Subir Pasaporte"),1),(0,n.bF)(o.eB,{name:"fade",mode:"out-in"},{default:(0,n.k6)((()=>["main"===a.value?((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("button",{onClick:d[0]||(d[0]=e=>a.value="ine"),class:"w-full bg-black text-white rounded-md py-3 px-4 hover:bg-gray-800 transition-colors duration-200"}," Subir INE "),(0,n.Lk)("button",{onClick:d[1]||(d[1]=e=>a.value="passport"),class:"w-full bg-black text-white rounded-md py-3 px-4 hover:bg-gray-800 transition-colors duration-200"}," Subir Pasaporte ")])):"ine"===a.value?((0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("div",null,[d[10]||(d[10]=(0,n.Lk)("h3",{class:"text-lg font-medium mb-2"},"INE Frente",-1)),(0,n.Lk)("div",{class:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-gray-400 transition-colors duration-200",onClick:d[3]||(d[3]=e=>ee("ineFront"))},[(0,n.Lk)("input",{type:"file",ref_key:"ineFrontInput",ref:w,class:"hidden",onChange:d[2]||(d[2]=e=>ae("ineFront",e)),accept:"image/*",capture:"environment"},null,544),t.value?((0,n.uX)(),(0,n.CE)("img",{key:1,src:s.value,alt:"INE Frente Preview",class:"max-h-40 mx-auto mb-2"},null,8,R)):((0,n.uX)(),(0,n.Wv)((0,g.R1)(b.A),{key:0,class:"h-8 w-8 mx-auto mb-2 text-gray-400"})),(0,n.Lk)("p",I,(0,m.v_)(t.value?t.value.name:"Elige archivo para INE Frente"),1)])]),(0,n.Lk)("div",null,[d[11]||(d[11]=(0,n.Lk)("h3",{class:"text-lg font-medium mb-2"},"INE Reverso",-1)),(0,n.Lk)("div",{class:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-gray-400 transition-colors duration-200",onClick:d[5]||(d[5]=e=>ee("ineBack"))},[(0,n.Lk)("input",{type:"file",ref_key:"ineBackInput",ref:z,class:"hidden",onChange:d[4]||(d[4]=e=>ae("ineBack",e)),accept:"image/*",capture:"environment"},null,544),r.value?((0,n.uX)(),(0,n.CE)("img",{key:1,src:l.value,alt:"INE Reverso Preview",class:"max-h-40 mx-auto mb-2"},null,8,P)):((0,n.uX)(),(0,n.Wv)((0,g.R1)(b.A),{key:0,class:"h-8 w-8 mx-auto mb-2 text-gray-400"})),(0,n.Lk)("p",T,(0,m.v_)(r.value?r.value.name:"Elige archivo para INE Reverso"),1)])]),(0,n.Lk)("button",{onClick:se,class:"w-full bg-black text-white rounded-md py-3 px-4 hover:bg-gray-800 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",disabled:!t.value||!r.value||v.value},[(0,n.bF)((0,g.R1)(b.A),{class:"h-5 w-5 mr-2"}),d[12]||(d[12]=(0,n.eW)(" Subir INE (Frente y Reverso) "))],8,S)])):"passport"===a.value?((0,n.uX)(),(0,n.CE)("div",j,[(0,n.Lk)("div",null,[d[13]||(d[13]=(0,n.Lk)("h3",{class:"text-lg font-medium mb-2"},"Pasaporte",-1)),(0,n.Lk)("div",{class:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-gray-400 transition-colors duration-200",onClick:d[7]||(d[7]=e=>ee("passport"))},[(0,n.Lk)("input",{type:"file",ref_key:"passportInput",ref:X,class:"hidden",onChange:d[6]||(d[6]=e=>ae("passport",e)),accept:"image/*",capture:"environment"},null,544),i.value?((0,n.uX)(),(0,n.CE)("img",{key:1,src:c.value,alt:"Pasaporte Preview",class:"max-h-40 mx-auto mb-2"},null,8,M)):((0,n.uX)(),(0,n.Wv)((0,g.R1)(b.A),{key:0,class:"h-8 w-8 mx-auto mb-2 text-gray-400"})),(0,n.Lk)("p",B,(0,m.v_)(i.value?i.value.name:"Elige archivo para Pasaporte"),1)])]),(0,n.Lk)("button",{onClick:le,class:"w-full bg-black text-white rounded-md py-3 px-4 hover:bg-gray-800 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",disabled:!i.value||v.value},[(0,n.bF)((0,g.R1)(b.A),{class:"h-5 w-5 mr-2"}),d[14]||(d[14]=(0,n.eW)(" Subir Pasaporte "))],8,O)])):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(o.eB,{name:"fade"},{default:(0,n.k6)((()=>[u.value?((0,n.uX)(),(0,n.CE)("div",$,[d[15]||(d[15]=(0,n.Lk)("strong",{class:"font-bold"},"Error:",-1)),(0,n.Lk)("span",V,(0,m.v_)(u.value),1)])):(0,n.Q3)("",!0)])),_:1})]),(0,n.bF)(o.eB,{name:"fade"},{default:(0,n.k6)((()=>[q.ineFront||q.ineBack||q.passport?((0,n.uX)(),(0,n.CE)("div",D,[(0,n.Lk)("div",N,[d[18]||(d[18]=(0,n.Lk)("h3",{class:"text-lg font-bold mb-4"},"Recortar imagen",-1)),J.value?((0,n.uX)(),(0,n.Wv)((0,g.R1)(x.IO),{key:0,class:"h-96 mb-4",src:J.value,onChange:te,"stencil-props":{aspectRatio:1.6},"default-size":{width:400,height:250},"resize-image":{touch:!0,wheel:!0,zoom:!0},transitions:!0,canvas:{width:1e3,height:1e3},"image-restriction":"stencil",ref_key:"cropperRef",ref:Y},null,8,["src"])):(0,n.Q3)("",!0),(0,n.Lk)("div",K,[(0,n.Lk)("button",{onClick:oe,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300"},[(0,n.bF)((0,g.R1)(k.A),{class:"h-5 w-5"}),d[17]||(d[17]=(0,n.eW)(" Rotar "))]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{onClick:re,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 mr-2"}," Cancelar "),(0,n.Lk)("button",{onClick:ne,class:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800"}," Finalizar recorte ")])])])])):(0,n.Q3)("",!0)])),_:1})]))}};const X=(0,l.A)(z,[["__scopeId","data-v-724aab26"]]);var W=X;const H={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50 p-4"},q={class:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center"},G={key:0,class:"flex flex-col items-center"},Q={class:"flex justify-center mb-6"},Y={class:"relative"},U={key:1,class:"text-center"},J={class:"mb-6"},Z={class:"text-gray-600 mb-4"};function ee(e,a,t,o,r,i){const s=(0,n.g2)("LockIcon"),l=(0,n.g2)("XCircleIcon");return(0,n.uX)(),(0,n.CE)("div",H,[(0,n.Lk)("div",q,[o.loading?((0,n.uX)(),(0,n.CE)("div",G,[(0,n.Lk)("div",Q,[(0,n.Lk)("div",Y,[a[1]||(a[1]=(0,n.Lk)("div",{class:"w-16 h-16 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin"},null,-1)),(0,n.bF)(s,{class:"w-8 h-8 text-blue-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})])]),a[2]||(a[2]=(0,n.Lk)("h1",{class:"text-2xl font-semibold text-gray-900 mb-2"}," Verificando Acceso ",-1)),a[3]||(a[3]=(0,n.Lk)("p",{class:"text-gray-600 mb-4"}," Estamos verificando tu token de acceso. Por favor, espera un momento. ",-1)),a[4]||(a[4]=(0,n.Lk)("div",{class:"bg-blue-50 border-l-4 border-blue-400 p-4 text-left"},[(0,n.Lk)("p",{class:"text-blue-700"}," Este proceso puede tardar unos segundos. Gracias por tu paciencia. ")],-1))])):(0,n.Q3)("",!0),o.error?((0,n.uX)(),(0,n.CE)("div",U,[(0,n.Lk)("div",J,[(0,n.bF)(l,{class:"w-16 h-16 text-red-500 mx-auto"})]),a[5]||(a[5]=(0,n.Lk)("h1",{class:"text-2xl font-semibold text-gray-900 mb-2"}," Error de Verificación ",-1)),(0,n.Lk)("p",Z,(0,m.v_)(o.error),1),(0,n.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>o.retryValidation&&o.retryValidation(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors"}," Intentar nuevamente ")])):(0,n.Q3)("",!0)])])}var ae=t(2551),te=t(7149),oe={name:"RegisterPage",components:{LockIcon:ae.A,XCircleIcon:te.A},setup(){const e=(0,d.rd)(),a=(0,g.KR)(!0),t=(0,g.KR)(null),o=new Date((new Date).getTime()+9e5),r=async(n,r,i)=>{try{console.log("https://ae60-187-188-165-253.ngrok-free.app/login/");const a=await fetch(`https://ae60-187-188-165-253.ngrok-free.app/login/${n}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({latitude:r,longitude:i})});console.log("Status:",a.status),console.log("Headers:",Object.fromEntries(a.headers));const t=await a.json();if(console.log("Datos recibidos:",t),console.log("Status:",t.stage),console.log("success"===t.status),!0!==t.valid)throw new Error("Error validando el token");p.A.set("token",n,{expires:o}),e.push("/")}catch(s){console.error("Error en validación:",s),t.value="No se pudo validar tu acceso. Por favor, intenta nuevamente.",a.value=!1}},i=()=>{a.value=!0,t.value=null;const o=e.currentRoute.value.params.jwt;s(o)},s=e=>{navigator.geolocation.getCurrentPosition((a=>{const t=a.coords.latitude,n=a.coords.longitude;r(e,t,n),p.A.set("token",e,{expires:o})}),(e=>{console.error("Error al obtener las coordenadas:",e),t.value="Los permisos de ubicación son obligatorios para continuar. Por favor, habilita el acceso a tu ubicación e intenta nuevamente.",a.value=!1}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})};return(0,n.sV)((()=>{const o=e.currentRoute.value.params.jwt;if(!o)return t.value="Token no proporcionado",void(a.value=!1);s(o)})),{loading:a,error:t,retryValidation:i}}};const ne=(0,l.A)(oe,[["render",ee],["__scopeId","data-v-2989bacc"]]);var re=ne;const ie={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50 p-4"},se={class:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full"},le={class:"flex justify-center mb-6"},ce={class:"bg-red-100 rounded-full p-4"};var ue={__name:"ErrorPage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.CE)("div",ie,[(0,n.Lk)("div",se,[(0,n.Lk)("div",le,[(0,n.Lk)("div",ce,[(0,n.bF)((0,g.R1)(ae.A),{class:"w-8 h-8 text-red-400"})])]),a[0]||(a[0]=(0,n.Fv)('<h1 class="text-2xl font-semibold text-gray-900 text-center mb-2"> Acceso Denegado </h1><p class="text-gray-600 text-center mb-2"> Error 401 </p><p class="text-gray-600 text-center mb-6"> Lo sentimos, pero no podemos procesar tu solicitud en este momento. </p><div class="bg-amber-50 border-l-4 border-amber-400 p-4 mb-6"><p class="text-amber-700 mb-2"> Tu token ha expirado o es inválido. Esto puede ocurrir si: </p><ul class="text-amber-700 list-disc pl-5 space-y-1"><li>Has utilizado un enlace antiguo</li><li>El enlace ha caducado por razones de seguridad</li><li>Has cerrado sesión recientemente</li></ul></div><p class="text-gray-600 text-center text-sm"> Si el problema persiste, por favor contacta a nuestro <a href="#" class="text-blue-500 hover:text-blue-600">equipo de soporte</a>. </p>',5))])]))}};const de=ue;var ve=de,pe=(t(4520),t(3949),t(1454),t(7866)),ge=t(2726),me=t(9398);const he={class:"container"},fe={class:"video-container"},be=["value"],ke=["disabled"],we={id:"preloader_1"},ye={class:"loading-overlay"};var xe={__name:"BiometricVerifications",setup(e){const a=(0,g.KR)(null),t=(0,g.KR)(null),r=(0,g.KR)("Ajusta tu posición para centrar tu rostro."),i=(0,g.KR)(!1),s=(0,g.KR)(!1),l=(0,g.KR)(null),c=(0,g.KR)(""),u=(0,d.rd)(),v=(0,g.KR)(!1);let f,b,k,w;function x(){const e=window.innerWidth<768,t=e?window.innerWidth:640,o=3*t/4;a.value.width=t,a.value.height=o}function E(){k=new ge.FaceMesh({locateFile:e=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${e}`}),k.setOptions({maxNumFaces:1,refineLandmarks:!0,minDetectionConfidence:.5,minTrackingConfidence:.5}),k.onResults(C)}function L(){w=new pe.Camera(f,{onFrame:async()=>{await k.send({image:f})},width:a.value.width,height:a.value.height}),w.start()}function C(e){b.save(),b.clearRect(0,0,a.value.width,a.value.height),b.drawImage(e.image,0,0,a.value.width,a.value.height),l.value=b.getImageData(0,0,a.value.width,a.value.height),b.fillStyle="rgba(0, 0, 0, 0.75)",b.fillRect(0,0,a.value.width,a.value.height);const t=.4*a.value.width,o=.7*a.value.height,n=a.value.width/2,s=a.value.height/2;if(b.beginPath(),b.ellipse(n,s,t/2,o/2,0,0,2*Math.PI),b.clip(),b.drawImage(e.image,0,0,a.value.width,a.value.height),b.restore(),b.strokeStyle="white",b.lineWidth=2,b.beginPath(),b.ellipse(n,s,t/2,o/2,0,0,2*Math.PI),b.stroke(),e.multiFaceLandmarks)for(const a of e.multiFaceLandmarks)(0,me.drawConnectors)(b,a,ge.FACEMESH_TESSELATION,{color:"#C0C0C070",lineWidth:.5}),(0,me.drawConnectors)(b,a,ge.FACEMESH_RIGHT_EYE,{color:"#FFFFFF",lineWidth:.5}),(0,me.drawConnectors)(b,a,ge.FACEMESH_RIGHT_EYEBROW,{color:"#FFFFFF",lineWidth:.5}),(0,me.drawConnectors)(b,a,ge.FACEMESH_RIGHT_IRIS,{color:"#FFFFFF",lineWidth:.5}),(0,me.drawConnectors)(b,a,ge.FACEMESH_LEFT_EYE,{color:"#FFFFFF",lineWidth:.5}),(0,me.drawConnectors)(b,a,ge.FACEMESH_LEFT_EYEBROW,{color:"#FFFFFF",lineWidth:.5}),(0,me.drawConnectors)(b,a,ge.FACEMESH_LEFT_IRIS,{color:"#FFFFFF",lineWidth:.5}),(0,me.drawConnectors)(b,a,ge.FACEMESH_FACE_OVAL,{color:"#E0E0E0",lineWidth:.5}),(0,me.drawConnectors)(b,a,ge.FACEMESH_LIPS,{color:"#E0E0E0",lineWidth:.5}),i.value=F(a);else r.value="No se detectó ningún rostro. Ajusta tu posición.",i.value=!1,console.log("No se detectó ningún rostro")}function F(e){const t=e.map((e=>({x:e.x*a.value.width,y:e.y*a.value.height,z:e.z}))),o=_(a.value,e);if(!o.isOptimal)return r.value=o.message,console.log("Problema de iluminación:",o.message),!1;const n=Math.abs(t[234].x-t[454].x),i=Math.abs(t[10].y-t[152].y),s=window.innerWidth<768,l=s?.3*Math.min(a.value.width,a.value.height):.45*Math.min(a.value.width,a.value.height),c=s?.5*Math.min(a.value.width,a.value.height):.65*Math.min(a.value.width,a.value.height);if(n<l||i<l)return r.value="Acércate más a la cámara.",console.log("La cara está muy lejos"),!1;if(n>c||i>c)return r.value="Aléjate un poco de la cámara.",console.log("La cara está muy cerca"),!1;const u=a.value.width/2,d=a.value.height/2,v=(t[234].x+t[454].x)/2,p=(t[10].y+t[152].y)/2,g=.2,m=Math.abs(v-u)<n*g&&Math.abs(p-d)<i*g,h=t[1],f=t[159],b=t[386],k=Math.sqrt(Math.pow(h.x-f.x,2)+Math.pow(h.y-f.y,2)),w=Math.sqrt(Math.pow(h.x-b.x,2)+Math.pow(h.y-b.y,2)),y=Math.abs(k-w)<.1*n,x=(b.y-f.y)/(b.x-f.x),E=Math.atan(x)*(180/Math.PI),L=Math.abs(E)<10;return m?y?L?(r.value="Posición correcta. Puedes capturar la imagen.",!0):(r.value="Por favor, mantén tu rostro recto.",console.log("La cara está inclinada"),!1):(r.value="Por favor, mira al frente.",console.log("La cara no está mirando al frente"),!1):(r.value="Por favor, centra tu rostro en el marco.",console.log("La cara no está centrada"),!1)}function _(e,a){const t=e.getContext("2d"),o=a.filter(((e,a)=>ge.FACEMESH_FACE_OVAL.includes(a)));let n=e.width,r=e.height,i=0,s=0;o.forEach((a=>{const t=a.x*e.width,o=a.y*e.height;n=Math.min(n,t),r=Math.min(r,o),i=Math.max(i,t),s=Math.max(s,o)}));const l=10;n=Math.max(0,n-l),r=Math.max(0,r-l),i=Math.min(e.width,i+l),s=Math.min(e.height,s+l);const c=i-n,u=s-r,d=t.getImageData(n,r,c,u),v=d.data;let p=0,g=0;for(let b=0;b<v.length;b+=4){const e=v[b],a=v[b+1],t=v[b+2],o=.299*e+.587*a+.114*t;p+=o,g++}const m=p/g,h=40,f=220;return{brightness:m,isOptimal:m>=h&&m<=f,message:m<h?"La iluminación es muy baja. Busca un lugar más iluminado.":m>f?"Hay demasiada luz. Busca un lugar con menos iluminación.":"La iluminación es adecuada."}}async function A(){i.value&&(s.value=!0,v.value=!0,navigator.geolocation.getCurrentPosition((async e=>{const{latitude:a,longitude:t}=e.coords,o=document.getElementById("input-video"),n=document.createElement("canvas");n.width=o.videoWidth,n.height=o.videoHeight;const i=n.getContext("2d");i.drawImage(o,0,0,n.width,n.height),n.toBlob((async e=>{const o=new FormData;o.append("person_image",e,"image.jpg"),o.append("latitude",a),o.append("longitude",t);const n=p.A.get("token");console.log("Token:",n);try{const e=await fetch("https://ae60-187-188-165-253.ngrok-free.app/ValidateIdenty",{method:"POST",body:o,headers:{Authorization:`Bearer ${n}`}}),a=await e.json();e.status>=400?(y().fire({title:"Error",text:"Vuelve a tomar la imagen siguiendo las indicaciones.",icon:"error",confirmButtonText:"Aceptar"}).then((()=>{location.reload()})),r.value=a.error):(y().fire({title:"Éxito",text:a.message,icon:"success",confirmButtonText:"Aceptar"}).then((e=>{e.isConfirmed&&u.push("/verify_liveness")})),r.value=a.message)}catch(i){y().fire({title:"Error",text:"Vuelve a tomar la imagen siguiendo las indicaciones.",icon:"error",confirmButtonText:"Aceptar"}).then((()=>{location.reload()})),r.value="Error al enviar la imagen.",console.error(i)}finally{s.value=!1}}),"image/jpeg")}),(e=>{console.error("Error al obtener la ubicación:",e),s.value=!1})))}return(0,n.sV)((async()=>{const e=p.A.get("token"),t=await fetch("https://ae60-187-188-165-253.ngrok-free.app/get_stage",{method:"GET",headers:{Authorization:`Bearer ${e}`,"ngrok-skip-browser-warning":"true"}});if(console.log("Response status:",t.status),console.log("Response headers:",t.headers),t.ok){const e=await t.json();console.log("Stage:",e),console.log(e.stage);const a={PROCESS_AND_VALIDATE_DOC:"/",VALIDATE_IDENTITY:"/verificacion-biometrica",VERIFY_LIVENESS:"/verify_liveness",COMPLETED:"/success"},o=u.currentRoute.value.path;console.log("Current route:",o);const n=a[e.stage];if(n&&n!==o)return void u.push(n);console.log("El stage actual coincide con la ruta, no se hace redirección.")}f=document.getElementById("input-video"),b=a.value.getContext("2d");const o=window.innerWidth<768?window.innerWidth:640,n=window.innerWidth>768?3*o/4:4*o/4;a.value.width=o,a.value.height=n,E(),await L(),window.addEventListener("resize",x),y().fire({title:"Reglas para la Verificación Biométrica",html:'\n        <ul style="text-align: left;">\n          <li>Asegúrate de que tu rostro esté bien iluminado.</li>\n          <li>Evita usar gafas o sombreros.</li>\n          <li>Mantén una expresión neutral.</li>\n          <li>Coloca tu rostro dentro del óvalo en la pantalla.</li>\n          <li>No te muevas mientras se captura la imagen.</li>\n        </ul>\n      ',icon:"info",confirmButtonText:"Aceptar"})})),(0,n.hi)((()=>{window.removeEventListener("resize",x),w&&w.stop()})),(e,l)=>((0,n.uX)(),(0,n.CE)("div",he,[l[2]||(l[2]=(0,n.Lk)("img",{src:h,alt:"Logo",class:"logo"},null,-1)),(0,n.bo)((0,n.Lk)("div",fe,[(0,n.Lk)("input",{type:"hidden",id:"ine-file",value:c.value},null,8,be),l[0]||(l[0]=(0,n.Lk)("video",{id:"input-video",style:{display:"none"},autoplay:""},null,-1)),(0,n.Lk)("canvas",{id:"output-canvas",ref_key:"outputCanvas",ref:a},null,512)],512),[[o.aG,!s.value]]),(0,n.bo)((0,n.Lk)("div",{id:"message",class:"message"},(0,m.v_)(r.value),513),[[o.aG,!s.value]]),(0,n.bo)((0,n.Lk)("button",{id:"capture-button",onClick:A,disabled:!i.value,class:(0,m.C4)({enabled:i.value})}," Estoy listo ",10,ke),[[o.aG,!s.value]]),(0,n.bo)((0,n.Lk)("div",we,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(5,(e=>(0,n.Lk)("span",{key:e}))),64))],512),[[o.aG,s.value]]),(0,n.bo)((0,n.Lk)("div",ye,l[1]||(l[1]=[(0,n.Lk)("div",{class:"loading-content"},[(0,n.Lk)("div",{class:"spinner"}),(0,n.Lk)("p",null,"Cargando...")],-1)]),512),[[o.aG,v.value]]),(0,n.Lk)("div",{id:"captured-image-container",ref_key:"capturedImageContainer",ref:t},null,512)]))}};const Ee=(0,l.A)(xe,[["__scopeId","data-v-0119fdd5"]]);var Le=Ee,Ce=t(3082);const Fe={class:"container"},_e={key:0,class:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg z-10"},Ae={class:"content-wrapper"},Re={class:"video-container"},Ie={class:"message"},Pe={class:"progress-bar"},Te=["disabled"],Se=1400;var je={__name:"verify_liveness",setup(e){const a=p.A.get("token"),t=(0,g.KR)(null),r=(0,g.KR)(null),i=(0,g.KR)(null),s=(0,g.KR)(null),l=(0,g.KR)('Cámara lista. Presiona "Iniciar Verificación" para comenzar'),c=(0,g.KR)(!1),u=(0,g.KR)(20),v=(0,g.KR)(0),f=(0,g.KR)(!1),b=(0,d.rd)(),k=(0,g.KR)(!1);let w,x,E,L=[],C={left:!1,right:!1,center:!1,phrase:!1},F=0;function _(){const e=[()=>{const e=Ce.a.color.human(),a=Ce.a.animal.type(),t=Ce.a.location.city();return`El ${e} ${a} corre por las calles de ${t}`},()=>{const e=Ce.a.person.firstName(),a=Ce.a.commerce.product(),t=Ce.a.location.city();return`${e} compró un nuevo ${a} ayer en ${t}`},()=>{const e=Ce.a.number.int({min:2,max:10}),a=Ce.a.commerce.productAdjective(),t=Ce.a.commerce.product();return`Los ${e} ${a} ${t} están sobre la mesa`},()=>{const e=Ce.a.vehicle.type(),a=Ce.a.color.human(),t=Ce.a.location.city();return`El ${e} ${a} viaja desde aquí hasta ${t}`},()=>{const e=Ce.a.person.firstName(),a=Ce.a.animal.pet(),t=Ce.a.word.verb();return`Mi amigo ${e} y su ${a} ${t} juntos`}],a=e[Math.floor(Math.random()*e.length)],t=a(),o=t.split(" ").length;return 8!==o?(console.warn(`Frase generada con ${o} palabras: "${t}"`),`El gran ${Ce.a.animal.type()} corre por el ${Ce.a.location.city()}`):t}let A="";const R=[{message:"Gira lentamente tu cabeza hacia la izquierda",validation:P},{message:"Gira lentamente tu cabeza hacia la derecha",validation:T},{message:"Vuelve lentamente al centro",validation:S},{message:"",validation:null},{message:"¡Verificación completada!",validation:null}];function I(){u.value=20,c.value=!0,E=setInterval((()=>{u.value--,u.value<=0&&(M(),y().fire({title:"Tiempo agotado",text:"No se completó la verificación en el tiempo establecido",icon:"warning"}))}),1e3)}function P(e){const a=e[33],t=e[263],o=e[1],n=o.x-a.x,r=t.x-o.x,i=.05;return n>r+i}function T(e){const a=e[33],t=e[263],o=e[1],n=o.x-a.x,r=t.x-o.x,i=.05;return r>n+i}function S(e){const a=e[33],t=e[263],o=e[1],n=o.x-a.x,r=t.x-o.x,i=.02;return Math.abs(n-r)<i}function j(){clearInterval(E),c.value=!1}function M(){j(),X(),C={left:!1,right:!1,center:!1,phrase:!1},L=[],f.value=!1,l.value="Cámara lista. Presiona 'Iniciar Verificación' para comenzar",v.value=0,F=0}function B(){const e=Object.values(C).filter((e=>e)).length,a=Object.keys(C).length;v.value=e/a*100}function O(e){const a=s.value.getContext("2d");if(a.save(),a.clearRect(0,0,s.value.width,s.value.height),a.drawImage(e.image,0,0,s.value.width,s.value.height),a.scale(-1,1),e.multiFaceLandmarks)for(const t of e.multiFaceLandmarks)(0,me.drawConnectors)(a,t,ge.FACEMESH_TESSELATION,{color:"#C0C0C070",lineWidth:1}),w&&"recording"===w.state&&$(t);a.restore()}function $(e){const a=Date.now();a-F<Se||(!C.left&&P(e)?(C.left=!0,F=a,l.value="¡Izquierda completado! "+R[1].message,B()):C.left&&!C.right&&T(e)?(C.right=!0,F=a,l.value="¡Derecha completado! "+R[2].message,B()):C.left&&C.right&&!C.center&&S(e)&&(C.center=!0,F=a,A=_(),l.value=`Por favor, di en voz alta: "${A}"`,V(),B()))}function V(){setTimeout((()=>{C.phrase=!0,l.value=R[4].message,B(),setTimeout((()=>{j(),X()}),3e3)}),6e3)}async function D(){x=new ge.FaceMesh({locateFile:e=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${e}`}),x.setOptions({maxNumFaces:1,refineLandmarks:!0,minDetectionConfidence:.5,minTrackingConfidence:.5}),x.onResults(O)}async function N(e){k.value=!0;const o=new FormData;o.append("video",e,"video_verificacion.webm"),o.append("frase_esperada",A),o.append("latitude",t.value),o.append("longitude",r.value);for(let[a,t]of o.entries())console.log(`${a}: ${t}`);try{const e=await fetch("https://ae60-187-188-165-253.ngrok-free.app/verify-liveness",{method:"POST",body:o,headers:{Authorization:`Bearer ${a}`,"ngrok-skip-browser-warning":"true"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=e.headers.get("content-type");if(!t||!t.includes("application/json"))throw new TypeError("La respuesta no es JSON");const n=await e.json();n.success?y().fire({title:"¡Verificación completada!",text:"El video ha sido enviado exitosamente",icon:"success"}).then((()=>{b.push({name:"SuccessProcess"})})):y().fire({title:"Error",text:"Hubo un problema al enviar el video. Intenta nuevamente",icon:"error"}).then((()=>{window.location.reload()}))}catch(n){console.error("Error al enviar el video:",n),y().fire({title:"Error de conexión",text:"No se pudo conectar al servidor. Intenta nuevamente",icon:"error"}).then((()=>{window.location.reload()}))}finally{k.value=!1}}async function K(){try{const e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});i.value.srcObject=e,i.value.width=640,i.value.height=480,s.value.width=640,s.value.height=480,w=new MediaRecorder(e),w.ondataavailable=e=>{e.data.size>0&&L.push(e.data)},w.onstop=()=>{const e=new Blob(L,{type:"video/webm"});N(e),L=[]},await D();const a=new pe.Camera(i.value,{onFrame:async()=>{await x.send({image:i.value})},width:640,height:480});a.start(),l.value="Cámara lista. Presiona 'Iniciar Verificación' para comenzar",f.value=!1}catch(e){console.error("Error accessing camera:",e),l.value="Error al acceder a la cámara"}}function z(){M(),L=[],w.start(),l.value=R[0].message,f.value=!0,I(),F=Date.now()}function X(){w&&"recording"===w.state&&(w.stop(),f.value=!1)}return(0,n.sV)((async()=>{navigator.geolocation.getCurrentPosition((e=>{t.value=e.coords.latitude,r.value=e.coords.longitude}),(e=>{console.error("Geolocation error:",e)}));const e=p.A.get("token"),a=await fetch("https://ae60-187-188-165-253.ngrok-free.app/get_stage",{method:"GET",headers:{Authorization:`Bearer ${e}`,"ngrok-skip-browser-warning":"true"}});if(console.log("Response status:",a.status),console.log("Response headers:",a.headers),a.ok){const e=await a.json();console.log("Stage:",e),console.log(e.stage);const t={PROCESS_AND_VALIDATE_DOC:"/",VALIDATE_IDENTITY:"/verificacion-biometrica",VERIFY_LIVENESS:"/verify_liveness",COMPLETED:"/success"},o=b.currentRoute.value.path;console.log("Current route:",o);const n=t[e.stage];if(n&&n!==o)return b.push(n),void console.log("Redirigiendo a:",n);console.log("El stage actual coincide con la ruta, no se hace redirección.")}y().fire({title:"Instrucciones para la prueba de vida",html:'\n      <ul style="text-align: left;">\n        <li>Por favor, asegúrese de que su rostro esté bien iluminado y completamente visible.</li>\n        <li>Mire hacia la izquierda durante unos segundos.</li>\n        <li>Mire hacia la derecha durante unos segundos.</li>\n        <li>Mire directamente al centro de la cámara.</li>\n        <li>Finalmente, pronuncie claramente la frase que se le indicará en pantalla.</li>\n      </ul>\n      ',icon:"info",confirmButtonText:"Aceptar"}),await K()})),(e,a)=>((0,n.uX)(),(0,n.CE)("div",Fe,[(0,n.bF)(o.eB,{name:"fade"},{default:(0,n.k6)((()=>[k.value?((0,n.uX)(),(0,n.CE)("div",_e,a[0]||(a[0]=[(0,n.Lk)("div",{class:"text-center"},[(0,n.Lk)("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-black mb-4"}),(0,n.Lk)("p",{class:"text-gray-700 font-semibold"},"Procesando...")],-1)]))):(0,n.Q3)("",!0)])),_:1}),(0,n.Lk)("div",Ae,[a[1]||(a[1]=(0,n.Lk)("img",{src:h,alt:"SoftCrédito",class:"logo"},null,-1)),(0,n.Lk)("div",Re,[(0,n.Lk)("video",{ref_key:"inputVideo",ref:i,autoplay:""},null,512),(0,n.Lk)("canvas",{ref_key:"outputCanvas",ref:s},null,512)]),(0,n.Lk)("div",Ie,(0,m.v_)(l.value),1),(0,n.bo)((0,n.Lk)("div",Pe,[(0,n.Lk)("div",{class:"progress",style:(0,m.Tr)({width:`${v.value}%`})},null,4)],512),[[o.aG,f.value]]),(0,n.Lk)("button",{onClick:z,disabled:f.value,class:"verification-button"}," Iniciar Verificación ",8,Te)])]))}};const Me=(0,l.A)(je,[["__scopeId","data-v-65a9acd0"]]);var Be=Me;const Oe={class:"min-h-screen flex items-center justify-center bg-gray-100 overflow-hidden"},$e={key:0,class:"confetti-container"};var Ve={__name:"SuccessProcess",setup(e){const a=(0,d.rd)(),t=(0,g.KR)(!1),o=()=>{t.value=!0,setTimeout((()=>{t.value=!1}),5e3)};return(0,n.sV)((async()=>{const e=p.A.get("token"),t=await fetch("https://ae60-187-188-165-253.ngrok-free.app/get_stage",{method:"GET",headers:{Authorization:`Bearer ${e}`,"ngrok-skip-browser-warning":"true"}});if(console.log("Response status:",t.status),console.log("Response headers:",t.headers),t.ok){const e=await t.json();console.log("Stage:",e),console.log(e.stage);const o={PROCESS_AND_VALIDATE_DOC:"/",VALIDATE_IDENTITY:"/verificacion-biometrica",VERIFY_LIVENESS:"/verify_liveness",COMPLETED:"/success"},n=o[e.stage];if(n&&n!==a.currentRoute.value.path)return void a.push(n);console.log("El stage actual coincide con la ruta, no se hace redirección.")}})),(e,a)=>((0,n.uX)(),(0,n.CE)("div",Oe,[(0,n.Lk)("div",{class:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full relative"},[a[0]||(a[0]=(0,n.Fv)('<div class="text-center" data-v-215caa62><svg class="mx-auto h-16 w-16 text-green-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-215caa62><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke-linecap="round" stroke-linejoin="round" data-v-215caa62></path><path d="M22 4L12 14.01l-3-3" stroke-linecap="round" stroke-linejoin="round" data-v-215caa62></path></svg><h1 class="mt-4 text-3xl font-bold text-gray-900" data-v-215caa62>¡Listo!</h1></div><div class="mt-6 text-center" data-v-215caa62><p class="text-xl text-gray-700" data-v-215caa62>Terminaste el proceso correctamente</p><p class="mt-2 text-gray-600" data-v-215caa62>Lograste validar tu identidad de manera exitosa.</p></div>',2)),(0,n.Lk)("div",{class:"mt-8 flex justify-center"},[(0,n.Lk)("button",{onClick:o,class:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 transition duration-300 ease-in-out"}," Felicidades! 🎉 ")])]),t.value?((0,n.uX)(),(0,n.CE)("div",$e,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(50,(e=>(0,n.Lk)("div",{key:e,class:"confetti",style:(0,m.Tr)({"--delay":5*Math.random()+"s","--x":100*Math.random()+"%"})},null,4))),64))])):(0,n.Q3)("",!0)]))}};const De=(0,l.A)(Ve,[["__scopeId","data-v-215caa62"]]);var Ne=De,Ke=t(920),ze=t(4771);const Xe={class:"min-h-screen flex items-center justify-center bg-gray-100"},We={class:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full"},He={class:"text-center"},qe={class:"mt-8 space-y-4"},Ge={class:"flex items-center justify-center space-x-2 text-yellow-600"},Qe={key:0,class:"mt-6 text-sm text-gray-600"};var Ye={__name:"PendingApproval",setup(e){const a=(0,g.KR)(!1),t=()=>{a.value=!a.value};return(e,o)=>((0,n.uX)(),(0,n.CE)("div",Xe,[(0,n.Lk)("div",We,[(0,n.Lk)("div",He,[(0,n.bF)((0,g.R1)(Ke.A),{class:"mx-auto h-16 w-16 text-yellow-500"}),o[0]||(o[0]=(0,n.Lk)("h1",{class:"mt-4 text-3xl font-bold text-gray-900"},"Pendiente de Aprobación",-1))]),o[3]||(o[3]=(0,n.Lk)("div",{class:"mt-6 text-center"},[(0,n.Lk)("p",{class:"text-xl text-gray-700"},"Tu documento de identificación está en revisión"),(0,n.Lk)("p",{class:"mt-2 text-gray-600"},"Te avisaremos cuando hayamos completado el proceso de validación.")],-1)),(0,n.Lk)("div",qe,[(0,n.Lk)("div",Ge,[(0,n.bF)((0,g.R1)(ze.A),{class:"h-5 w-5"}),o[1]||(o[1]=(0,n.Lk)("span",{class:"text-sm font-medium"},"Este proceso puede tomar hasta 48 horas hábiles",-1))]),(0,n.Lk)("button",{onClick:t,class:"w-full px-6 py-3 bg-yellow-500 text-white font-semibold rounded-lg shadow-md hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-75 transition duration-300 ease-in-out"}," ¿Qué sigue? ")]),a.value?((0,n.uX)(),(0,n.CE)("div",Qe,o[2]||(o[2]=[(0,n.Lk)("h2",{class:"font-semibold mb-2"},"Próximos pasos:",-1),(0,n.Lk)("ul",{class:"list-disc list-inside space-y-1"},[(0,n.Lk)("li",null,"Recibirás un correo electrónico con el resultado de la validación."),(0,n.Lk)("li",null,"Si se requiere información adicional, te contactaremos."),(0,n.Lk)("li",null,"Una vez aprobado, podrás continuar con el proceso.")],-1)]))):(0,n.Q3)("",!0)])]))}};const Ue=(0,l.A)(Ye,[["__scopeId","data-v-113b1b22"]]);var Je=Ue,Ze=t(1058),ea=t(31);const aa={class:"min-h-screen bg-gray-100 flex flex-col justify-center items-center px-4 py-8"},ta={class:"text-center"},oa={class:"mt-12"};var na={__name:"NotFound",setup(e){return(e,a)=>{const t=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",aa,[(0,n.Lk)("div",ta,[a[1]||(a[1]=(0,n.Lk)("h1",{class:"text-6xl font-bold text-gray-900 mb-4"},"404",-1)),a[2]||(a[2]=(0,n.Lk)("h2",{class:"text-3xl font-semibold text-gray-700 mb-6"},"Página no encontrada",-1)),a[3]||(a[3]=(0,n.Lk)("p",{class:"text-xl text-gray-600 mb-8"},"Lo sentimos, la página que estás buscando no existe.",-1)),(0,n.bF)(t,{to:"/",class:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out"},{default:(0,n.k6)((()=>[(0,n.bF)((0,g.R1)(Ze.A),{class:"w-5 h-5 mr-2"}),a[0]||(a[0]=(0,n.eW)(" Volver al inicio "))])),_:1})]),(0,n.Lk)("div",oa,[(0,n.bF)((0,g.R1)(ea.A),{class:"w-24 h-24 text-yellow-500 mx-auto"})])])}}};const ra=na;var ia=ra;const sa=[{path:"/",name:"FileUploadPage",component:W,meta:{requiresAuth:!0}},{path:"/register/:jwt",name:"Register",component:re},{path:"/error",name:"Error",component:ve},{path:"/verificacion-biometrica",name:"VerificacionBiometrica",component:Le,meta:{requiresAuth:!0}},{path:"/verify_liveness",name:"verify_liveness",component:Be,meta:{requiresAuth:!0}},{path:"/success",name:"SuccessProcess",component:Ne,meta:{requiresAuth:!0}},{path:"/outstanding",name:"Outstanding",component:Je,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:ia}],la=(0,d.aE)({history:(0,d.LA)(),routes:sa}),ca=e=>{if(!e)return!1;try{const a=(0,v.s)(e);return 1e3*a.exp>Date.now()}catch{return!1}};la.beforeEach(((e,a,t)=>{const o=p.A.get("token");!e.matched.some((e=>e.meta.requiresAuth))||ca(o)?t():t({path:"/error"})}));var ua=la;(0,o.Ef)(u).use(ua).mount("#app")}},a={};function t(o){var n=a[o];if(void 0!==n)return n.exports;var r=a[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,o,n,r){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],r=e[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||i>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(s=!1,r<i&&(i=r));if(s){e.splice(u--,1);var c=n();void 0!==c&&(a=c)}}return a}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,n,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,o){var n,r,i=o[0],s=o[1],l=o[2],c=0;if(i.some((function(a){return 0!==e[a]}))){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(l)var u=l(t)}for(a&&a(o);c<i.length;c++)r=i[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},o=self["webpackChunkface_id"]=self["webpackChunkface_id"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(8578)}));o=t.O(o)})();
//# sourceMappingURL=app.5cc23928.js.map